(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(e,t,n){},238:function(e,t,n){},259:function(e,t,n){e.exports=n(538)},319:function(e,t){},510:function(e,t,n){},534:function(e,t,n){},538:function(e,t,n){"use strict";n.r(t);var a,r,o,i,s,l,c,d,u=n(1),p=n.n(u),m=n(240),f=n(11),h=n(83),g=n(24),b=n(244),v=n(549),E=n(550),y=n(15),k=function(){return p.a.createElement("div",null,p.a.createElement("div",{style:{fontSize:"1.5em",textAlign:"center"}},p.a.createElement(y.a,{style:{marginRight:"0.5em"},type:"compass"}),"Shipyard"))},T=function(){return p.a.createElement("div",{style:{textAlign:"right"}},p.a.createElement("a",{href:"https://github.com/john-guerra/Navio",target:"_blank",rel:"noopener noreferrer"},"Github Project MIT License ",p.a.createElement(y.a,{type:"github"})))},O=n(544),A=n(541),w=n(102),C=n(547),S=n(539),D=n(540),L=n(545),j=n(73),x=[["SEQUENTIAL","NUMBER"],["DATE","DATE"],["CATEGORICAL","STRING"]],N=function(e){var t=isNaN(e),n=function(e){var t=new Date(e);return!isNaN(t.getDate())}(e);return t?n?1:2:0},_=function(e,t,n){var a=JSON.parse(JSON.stringify(t)),r=[],o=/^(id|key)|(id|key)$|\W+\_*(key|id)+\_*\W+|\W+\_*(key|id)+\_*\W*/gim,i=function(e,t){for(var n=[],a=1;a<e+1;a++)n.push(a);return n.map(function(n){return Math.floor(t.length*(n/e))-1}).map(function(e){return t[e]})}(6,n);console.log(i);for(var s=function(n){o.test(a[n].name)&&(a[n].id=!0,r.push(t[n].name));var s=i.map(function(t){return t[e[n]]}).map(N),l=[0,0,0];s.forEach(function(e){return l[e]+=1});for(var c=0,d=0,u=0;u<l.length;u++)l[u]>c&&(c=l[u],d=u);var p=Object(j.a)(x[d],2),m=p[0],f=p[1];a[n].type=m,a[n].data=f},l=0;l<e.length;l+=1)s(l);return[a,r]},I=function(e){for(var t,n=e.slice(0),a=[],r=Object.keys(e[0]),o=0;o<r.length;o+=1){var i={name:r[o],alias:r[o],checked:!0,type:"",id:!1,settings:!1};a.push(i)}var s=_(r,a,e),l=Object(j.a)(s,2);return a=l[0],t=l[1],{type:"SET_DATA",source:n,data:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return a.forEach(function(e){if("DATE"===e.data){var n=new Date(t[e.name]);isNaN(n.getDate())||(t[e.name]=n)}else if("NUMBER"===e.data){var a=+t[e.name];isNaN(a)||(t[e.name]=a)}}),t}),attributes:a,ids:t}},R=function(e){return{type:"SET_COMPONENT_CLASSES",attributes:e}},U=function(e,t){return{type:"CHANGE_CHECK_STATUS",attribute:e,status:t}},G=function(e,t){return{type:"CHANGE_TYPE_STATUS",attribute:e,status:t}},P=function(e){return{type:"UPDATE_FILTERED_DATA",exportData:e}},B=function(e,t){return{type:"TOGGLE_SETTINGS_VISIBLE",index:e,visible:t}},M=function(e,t,n){return{type:"SET_ATTRIBUTE_COLOR",color:e,event:t,index:n}},q=n(30),W=Object(g.b)(function(e){return{visible:e.ui.visible,datasets:e.shipyard.datasets,confirmLoading:e.ui.confirmLoading}},function(e){return{showModal:function(){return e({type:"SHOW_MODAL"})},handleOk:function(t){return e(void 0)},handleCancel:function(){return e({type:"SHOW_MODAL"})},setData:function(t){return e(I(t))},toggleLoading:function(){return e({type:"TOGGLE_LOADING"})},toggleDataLoaded:function(){return e({type:"TOGGLE_DATA_LOADED"})},setComponentClasses:function(t){return e(R(t))}}})(function(e){var t=e.visible,n=e.datasets,a=e.confirmLoading,r=e.showModal,o=e.handleOk,i=e.handleCancel,s=e.setData,l=e.toggleLoading,c=e.toggleDataLoaded,d=e.setComponentClasses,u="https://raw.githubusercontent.com/john-guerra/Navio/master/shipyard/public/datasets/";return p.a.createElement("div",null,p.a.createElement(w.a,{type:"primary",ghost:!0,onClick:r},"Choose one"),p.a.createElement(C.a,{title:"Datasets",visible:t,onOk:o,confirmLoading:a,onCancel:i,width:"90%",footer:[p.a.createElement(w.a,{onClick:i,key:"back"},"Cancel")]},p.a.createElement(S.a,{gutter:32},n.map(function(e){return p.a.createElement(D.a,{xs:24,sm:12,md:12,lg:6,xl:6,key:e.id},p.a.createElement(L.a,{onClick:function(){return t=e.name,l(),console.log("".concat(u).concat(t)),void q.csv("".concat(u).concat(t),function(e,t){if(e)throw e;console.log("DATA PREdEFINED DATASETS",t),s(t),d(Object.keys(t[0])),l(),c(),i()});var t},className:"hoverable",title:e.title,style:{width:"100%",height:"30vh",overflowY:"scroll",cursor:"pointer",marginBottom:32}},p.a.createElement("p",null,"Description: ",e.description),p.a.createElement("p",null,"Records(rows): ",e.size),p.a.createElement("p",null,"Attributes: ",e.n_attributes)))}))))}),F=n(106),H=O.a.Dragger,V=Object(g.b)(function(e){return{attributes:e.shipyard.attributes}},function(e){return{toggleLoading:function(){return e({type:"TOGGLE_LOADING"})},setData:function(t){return e(I(t))},toggleDataLoaded:function(){return e({type:"TOGGLE_DATA_LOADED"})},toggleNetworkDataLoaded:function(){console.log("entraaaa"),e({type:"TOGGLE_NETWORK_DATA_LOADED"})},setComponentClasses:function(t){return e(R(t))}}})(function(e){e.attributes;var t=e.toggleLoading,n=e.setData,a=e.toggleDataLoaded,r=e.toggleNetworkDataLoaded,o=e.setComponentClasses,i=function(e){var r=new window.FileReader;null!=e&&(r.onload=function(r){var i,s=e.name.split(".").pop().toLowerCase();try{console.log("TRY"),i=F.a(r.target.result,{type:s}),n(i),o(Object.keys(i[0])),t(),a()}catch(l){console.log("CATCH",l),delete(i=q.dsvFormat(",").parse(r.target.result)).columns,n(i),o(Object.keys(i[0])),t(),a()}},r.readAsText(e))},s=function(e){var a=new window.FileReader;null!=e&&(a.onload=function(a){var i,s=e.name.split(".").pop().toLowerCase();try{console.log("TRY"),i=F.a(a.target.result,{type:s}),n(i),o(Object.keys(i[0])),t(),r()}catch(l){console.log("CATCH",l),delete(i=q.dsvFormat(",").parse(a.target.result)).columns,n(i),o(Object.keys(i[0])),t(),r()}},a.readAsText(e))};return p.a.createElement("div",{style:{textAlign:"center",margin:"1em"}},p.a.createElement(H,{style:{alignItems:"center",minHeight:"30vh"},accept:".csv,.tsv,.txt",beforeUpload:function(e){t(),i(e)},name:"file"},p.a.createElement("div",{className:"dragger"},p.a.createElement("p",{className:"ant-upload-drag-icon"},p.a.createElement(y.a,{type:"upload"})),p.a.createElement("h1",{style:{fontSize:"2em"}},"Click or Drag and drop here to upload your dataset"),p.a.createElement("p",{className:"ant-upl  827 root      20   0 1287436  19684  11340 S   0,3  0,2   0:00.36 snapd\noad-hint"},"*.csv, *.tsv and *.txt files allowed."))),p.a.createElement("div",null,p.a.createElement(A.a,null,p.a.createElement("p",null,"or you can click below to explore pre-loaded datasets"))),p.a.createElement("div",null,p.a.createElement(W,null)),p.a.createElement(A.a,null,p.a.createElement("p",null,"Or")),p.a.createElement(H,{style:{alignItems:"center",minHeight:"30vh"},accept:".csv,.tsv,.txt",beforeUpload:function(e){t(),s(e)},name:"networkfile"},p.a.createElement("div",{className:"dragger"},p.a.createElement("p",{className:"ant-upload-drag-icon"},p.a.createElement(y.a,{type:"upload"})),p.a.createElement("h1",{style:{fontSize:"2em"}},"Click or Drag and drop here to upload the nodes dataset of your network"),p.a.createElement("p",{className:"ant-upl  827 root      20   0 1287436  19684  11340 S   0,3  0,2   0:00.36 snapd\noad-hint"},"*.csv, *.tsv, and *.txt files allowed."))))}),J=n(52),z=n(53),Y=n(56),X=n(54),Q=n(57),K=n(9),$=n(138),Z=n(127),ee=n(179),te=n.n(ee),ne=O.a.Dragger,ae=window.require("electron-prompt"),re=w.a.Group,oe=$.a.Option,ie="",se=Object(g.b)(function(e){return{exportData:e.shipyard.exportData,data:e.shipyard.data,attributes:e.shipyard.attributes,networkLoaded:e.ui.networkLoaded,arcsData:e.shipyard.arcsData,colorAttribute:e.shipyard.colorAttribute}},function(e){return{resetData:function(){return e({type:"RESET_DATA"})},toggleSidebar:function(){return e({type:"TOGGLE_SIDEBAR"})},setArcsData:function(t){return e(function(e){for(var t,n=e.slice(0),a=[],r=Object.keys(e[0]),o=0;o<r.length;o+=1){var i={name:r[o],alias:r[o],checked:!0,type:"",id:!1,settings:!1};a.push(i)}var s=_(r,a,e),l=Object(j.a)(s,2);return a=l[0],t=l[1],{type:"SET_ARCS_DATA",source:n,arcsData:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return a.forEach(function(e){if("DATE"===e.data){var n=new Date(t[e.name]);isNaN(n.getDate())||(t[e.name]=n)}else if("NUMBER"===e.data){var a=+t[e.name];isNaN(a)||(t[e.name]=a)}}),t}),attributes:a,ids:t}}(t))},setColorAttribute:function(t){return e(function(e){return{type:"SET_COLOR_ATTRIBUTE",attribute:e}}(t))},setNodesLabel:function(t){return e(function(e){return{type:"SET_NODES_LABEL",attribute:e}}(t))},setNodesId:function(t){return e(function(e){return{type:"SET_NODES_ID",id:e}}(t))}}})(function(e){var t=e.exportData,n=(e.data,e.attributes),a=e.resetData,r=e.colorAttribute,o=e.toggleSidebar,i=e.networkLoaded,s=e.setArcsData,l=e.arcsData,c=e.setColorAttribute,d=e.setNodesLabel,u=e.setNodesId,m=function(e,t){var n=new window.FileReader;null!=e&&(n.onload=function(n){var a,r=e.name.split(".").pop().toLowerCase();try{console.log("TRY"),a=F.a(n.target.result,{type:r}),u(t),s(a)}catch(o){console.log("CATCH",o),delete(a=q.dsvFormat(",").parse(n.target.result)).columns,u(t),s(a)}},n.readAsText(e))},f=function(){var e=[];t.forEach(function(t){var n=JSON.parse(JSON.stringify(t));delete n.__i,delete n.x,delete n.y,delete n.vy,delete n.vx,e.push(n)});var n=e.slice(),a=function(e,t){return null===t?"":t},r=Object.keys(n[0]),o=n.map(function(e){return r.map(function(t){return JSON.stringify(e[t],a)}).join(",")});o.unshift(r.join(",")),o=o.join("\r\n");var i=new Blob([o],{type:"ext/csv;charset=utf-8"});if(te.a.saveAs(i,"export_data.csv"),console.log(t),console.log(e),0!==l.length){var s=l;s=s.map(function(e){return{source:e.source[ie],target:e.target[ie],weight:e.weigth}}),console.log(s);var c=s.slice(),d=function(e,t){return null===t?"":t},u=Object.keys(c[0]),p=c.map(function(e){return u.map(function(t){return JSON.stringify(e[t],d)}).join(",")});p.unshift(u.join(",")),p=p.join("\r\n");var m=new Blob([p],{type:"ext/csv;charset=utf-8"});te.a.saveAs(m,"export_links.csv")}};return p.a.createElement("div",{style:{textAlign:"center",alignItems:"center",paddingTop:"50px"}},p.a.createElement(re,null,p.a.createElement(Z.a,{placement:"bottom",title:"Show sidebar to hide/show attributes and change their type."},p.a.createElement(w.a,{onClick:o},p.a.createElement(y.a,{type:"setting"}),"Setup Navio")),p.a.createElement(Z.a,{placement:"bottom",title:"Export the filtered data in csv format."},p.a.createElement(w.a,{onClick:f},p.a.createElement(y.a,{type:"table"}),"Export data")),p.a.createElement(Z.a,{placement:"bottom",title:"Export an embedded version of the visualization (data.csv + index.html)."},p.a.createElement(w.a,{onClick:function(){var e="text/html",t=[],a=[];n.forEach(function(e){"categorical"===e.type?t.push(e.name):a.push(e.name)});var o='<!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="UTF-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <meta http-equiv="X-UA-Compatible" content="ie=edge">\n      <title>Navio</title>\n    </head>\n    <body>\n      <div id="Navio"></div>\n\n      <script src="https://d3js.org/d3.v4.min.js"><\/script>\n      <script src="https://d3js.org/d3-interpolate.v1.min.js"><\/script>\n      <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"><\/script>\n      <script type="text/javascript" src="https://unpkg.com/navio/dist/navio.min.js"><\/script>\n      <script type="text/javascript">\n        let nn = navio(d3.select("#Navio"), 600);\n        let cat = "CATEGORICAL"\n        let seq = "SEQUENTIAL";\n      let attributes = JSON.parse(\''.concat(JSON.stringify(n),'\');\n        d3.csv("./export_data.csv", function (err, data) {\n          if (err) throw err;\n        data.forEach((row) => {\n          attributes.forEach(att=> {\n            if(att.data === "date"){\n              let mydate = new Date(row[att.name]);\n              if(isNaN(mydate.getDate())){\n                row[att.name] = null;\n              }else {\n                row[att.name] = mydate\n              }\n\n            }\n            else if(att.data=== "number"){\n              let mynumber = +row[att.name];\n              if(isNaN(mynumber)){\n                row[att.name] = null;\n              }else{\n                row[att.name] = mynumber;\n              }\n            }\n          })\n        })\n\n        attributes.forEach((d,i)=>{\n            if(d.checked){\n            console.log("------------");\n\n              if(d.type === cat){\n                console.log(\'cat\',d.name);\n                nn.addCategoricalAttrib(d.name);\n              }else if(d.type === seq){\n                console.log(\'seq\',d.name);\n                if(d.data=== "date"){\n                  console.log(\'date\')\n                  nn.addSequentialAttrib(d.name,\n                            d3.scalePow()\n                              .exponent(0.25)\n                              .range([d3.interpolatePurples(0), d3.interpolatePurples(1)]))\n                }\n                else {\n                  nn.addSequentialAttrib(d.name);\n                }\n\n              }\n\n             console.log("------------");\n           }\n          })\n\n        nn.data(data);\n      });\n      <\/script>\n    </body>\n    </html>'),s='<!DOCTYPE html>\n        <html lang="en">\n        <head>\n          <meta charset="UTF-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <meta http-equiv="X-UA-Compatible" content="ie=edge">\n          <link rel="stylesheet" href="css/styles.css?v=1.0">\n          \x3c!-- Latest compiled and minified CSS --\x3e\n          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">\n          \x3c!-- jQuery library --\x3e\n          <title>Navio</title>\n        </head>\n        <body>\n          <div class="container">\n            <div class="row">\n              <div class="col-md-6">\n                <div id="Navio"></div>\n              </div>\n              <div class="col-md-6">\n                <canvas\n                style={{ overflowX: \'scroll\'}}\n                width= \'500\'\n                height= \'500\'\n                id="network"\n              ></canvas>\n              </div>\n            </div>\n          </div>\n\n          <script src="https://d3js.org/d3.v4.min.js"><\/script>\n          <script src="https://d3js.org/d3-interpolate.v1.min.js"><\/script>\n          <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"><\/script>\n          <script type="text/javascript" src="https://unpkg.com/navio/dist/navio.min.js"><\/script>\n          <script type="text/javascript">\n            let nn = navio(d3.select("#Navio"), 600).updateCallback(updateFilteredData);\n            let cat = "CATEGORICAL"\n            let seq = "SEQUENTIAL";\n            let attributes = JSON.parse(\''.concat(JSON.stringify(n),'\');\n            d3.csv("./export_data.csv", function (err, data) {\n              if (err) throw err;\n            data.forEach((row) => {\n              attributes.forEach(att=> {\n                if(att.data === "date"){\n                  let mydate = new Date(row[att.name]);\n                  if(isNaN(mydate.getDate())){\n                    row[att.name] = null;\n                  }else {\n                    row[att.name] = mydate\n                  }\n\n                }\n                else if(att.data=== "number"){\n                  let mynumber = +row[att.name];\n                  if(isNaN(mynumber)){\n                    row[att.name] = null;\n                  }else{\n                    row[att.name] = mynumber;\n                  }\n                }\n              })\n            })\n\n            attributes.forEach((d,i)=>{\n                if(d.checked){\n                console.log("------------");\n\n                  if(d.type === cat){\n                    console.log(\'cat\',d.name);\n                    nn.addCategoricalAttrib(d.name);\n                  }else if(d.type === seq){\n                    console.log(\'seq\',d.name);\n                    if(d.data=== "date"){\n                      console.log(\'date\')\n                      nn.addSequentialAttrib(d.name,\n                                d3.scalePow()\n                                  .exponent(0.25)\n                                  .range([d3.interpolatePurples(0), d3.interpolatePurples(1)]))\n                    }\n                    else {\n                      nn.addSequentialAttrib(d.name);\n                    }\n\n                  }\n\n                 console.log("------------");\n               }\n              })\n\n            nn.data(data);\n          });\n\n              const nodecolor=\'').concat(r,"';\n              const linkidtype='").concat(ie?n.find(function(e){return e.name==ie}).data:"","';\n              const linkid='").concat(ie||"",'\';\n              var linksnuevos,nodes;\n              var canvas = d3.select("#network"),\n              width = canvas.attr("width"),\n              height = canvas.attr("height"),\n              ctx = canvas.node().getContext("2d"),\n              r = 3,\n              color = d3.scaleOrdinal(d3.schemeCategory20),\n              simulation = d3.forceSimulation()\n                .force("x", d3.forceX(width/2))\n                .force("y", d3.forceY(height/2))\n                .force("collide", d3.forceCollide(r+1))\n                .force("charge", d3.forceManyBody()\n                  .strength(-20))\n                .force("link", d3.forceLink()\n                  .id(function (d) { return d[linkid]; }));\n              d3.csv("./export_data.csv", function (err, data) {\n                if (err) throw err;\n                data.forEach((row) => {\n                  attributes.forEach(att=> {\n                    if(att.data === "date"){\n                      let mydate = new Date(row[att.name]);\n                      if(isNaN(mydate.getDate())){\n                        row[att.name] = null;\n                      }else {\n                        row[att.name] = mydate\n                      }\n\n                    }\n                    else if(att.data=== "number"){\n                      let mynumber = +row[att.name];\n                      if(isNaN(mynumber)){\n                        row[att.name] = null;\n                      }else{\n                        row[att.name] = mynumber;\n                      }\n                    }\n                  })\n                })\n                nodes=data;\n                simulation.nodes(nodes);\n                d3.csv("./export_links.csv", function (err, links) {\n                  if (err) throw err;\n                  if(linkidtype===\'NUMBER\'){\n                    linksnuevos =links.map(link =>({source: +link.source, target:+link.target, weight:link.weigth}))\n                    .filter(link => ((typeof link.source === \'number\'||typeof link.source ===\'string\') && nodes.find(n => n[linkid] == link.source) && nodes.find(n => n[linkid] == link.target))\n                    || (typeof link.source === \'object\' && nodes.find(n => n[linkid] == link.source[linkid]) && nodes.find(n => n[linkid] == link.target[linkid])));\n\n                  }\n                  else{\n                    linksnuevos= links.filter(link => ( (typeof link.source === \'number\'||typeof link.source ===\'string\') && nodes.find(n => n[linkid] == link.source) && nodes.find(n => n[linkid] == link.target))\n                    || (typeof link.source === \'object\' && nodes.find(n => n[linkid] == link.source[linkid]) && nodes.find(n => n[linkid] == link.target[linkid])));\n                  }\n                   console.log(linksnuevos);\n                   simulation.force("link")\n                     .links(linksnuevos);\n                  });\n                simulation.on("tick", update);\n                canvas\n                    .call(d3.drag()\n                        .container(canvas.node())\n                        .subject(dragsubject)\n                        .on("start", dragstarted)\n                        .on("drag", dragged)\n                        .on("end", dragended));\n                function update() {\n                  ctx.clearRect(0, 0, width, height);\n                  ctx.beginPath();\n                  ctx.globalAlpha = 0.5;\n                  ctx.strokeStyle = "#aaa";\n                  linksnuevos.forEach(drawLink);\n                  ctx.stroke();\n                  ctx.globalAlpha = 1.0;\n                  nodes.forEach(drawNode);\n                }\n                function dragsubject() {\n                  return simulation.find(d3.event.x, d3.event.y);\n                }\n              });\n              function dragstarted() {\n                if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n                d3.event.subject.fx = d3.event.subject.x;\n                d3.event.subject.fy = d3.event.subject.y;\n                console.log(d3.event.subject);\n              }\n              function dragged() {\n                d3.event.subject.fx = d3.event.x;\n                d3.event.subject.fy = d3.event.y;\n              }\n              function dragended() {\n                if (!d3.event.active) simulation.alphaTarget(0);\n                d3.event.subject.fx = null;\n                d3.event.subject.fy = null;\n              }\n              function drawNode(d) {\n                ctx.beginPath();\n                ctx.fillStyle = color(d[nodecolor]);\n                ctx.moveTo(d.x, d.y);\n                ctx.arc(d.x, d.y, r, 0, Math.PI*2);\n                ctx.fill();\n              }\n              function drawLink(l) {\n                ctx.moveTo(l.source.x, l.source.y);\n                ctx.lineTo(l.target.x, l.target.y);\n              }\n              function updateFilteredData(newdata){\n                console.log(newdata);\n                nodes=newdata;\n                simulation.nodes(nodes);\n\n                d3.csv("./export_links.csv", function (err, links) {\n                  if (err) throw err;\n                  if(linkidtype===\'NUMBER\'){\n                    linksnuevos =links.map(link =>({source: +link.source, target:+link.target, weight:link.weigth}))\n                    .filter(link => ((typeof link.source === \'number\'||typeof link.source ===\'string\') && nodes.find(n => n[linkid] == link.source) && nodes.find(n => n[linkid] == link.target))\n                    || (typeof link.source === \'object\' && nodes.find(n => n[linkid] == link.source[linkid]) && nodes.find(n => n[linkid] == link.target[linkid])));\n\n                  }\n                  else{\n                    linksnuevos= links.filter(link => ( (typeof link.source === \'number\'||typeof link.source ===\'string\') && nodes.find(n => n[linkid] == link.source) && nodes.find(n => n[linkid] == link.target))\n                    || (typeof link.source === \'object\' && nodes.find(n => n[linkid] == link.source[linkid]) && nodes.find(n => n[linkid] == link.target[linkid])));\n                  }\n                   console.log(linksnuevos);\n                   simulation.force("link")\n                     .links(linksnuevos);\n                  });\n                simulation.alpha(1).restart();\n              }\n\n\n          <\/script>\n        </body>\n      </html>'),l=document.getElementById("downloadLink");e=e||"text/plain",l.setAttribute("download","index.html"),i?l.setAttribute("href","data:"+e+";charset=utf-8,"+encodeURIComponent(s)):l.setAttribute("href","data:"+e+";charset=utf-8,"+encodeURIComponent(o)),f()}},p.a.createElement("a",{href:"#",id:"downloadLink"},p.a.createElement(y.a,{type:"export"}),"Export visualization"))),p.a.createElement(Z.a,{placement:"bottom",title:"Choose another dataset."},p.a.createElement(w.a,{onClick:a},p.a.createElement(y.a,{type:"swap"}),"Change dataset"))),i&&0===l.length?p.a.createElement("div",{style:{alignItems:"center",paddingLeft:"30%",paddingRight:"30%",paddingTop:"1%"}},p.a.createElement(ne,{style:{alignItems:"center",minHeight:"1vh"},accept:".csv,.tsv,.txt, .json",beforeUpload:function(e){var t={};n.forEach(function(e){return t[e.name]=e.name}),console.log(t),ae({title:"Node id",height:150,label:"Select the attribute you want to use as node identificator:",value:"id",inputAttrs:{type:"text"},type:"select",selectOptions:t}).then(function(t){null===t?console.log("user cancelled"):(ie=t,m(e,t))}).catch(console.error)},name:"networkfile"},p.a.createElement("div",{className:"dragger"},p.a.createElement("p",{className:"ant-upload-drag-icon"},p.a.createElement(y.a,{type:"upload"})),p.a.createElement("h1",{style:{fontSize:"1em"}},"upload links file"),p.a.createElement("p",{className:"ant-upl  827 root      20   0 1287436  19684  11340 S   0,3  0,2   0:00.36 snapd oad-hint"},".csv files allowed.")))):p.a.createElement("br",null),i?p.a.createElement(S.a,{style:{paddingTop:"50px"}},p.a.createElement(D.a,{span:12}),p.a.createElement(D.a,{span:3},p.a.createElement("div",{style:{padding:"10px"}},"Color by attribute:")),p.a.createElement(D.a,{span:3},p.a.createElement($.a,{defaultValue:"",style:{width:120},onChange:function(e){c(e)}},p.a.createElement(oe,{value:""},"None"),n.filter(function(e){return"CATEGORICAL"===e.type}).map(function(e){return p.a.createElement(oe,{value:e.name},e.name)}))),p.a.createElement(D.a,{span:3},p.a.createElement("div",{style:{padding:"10px"}},"Nodes Label attribute (On hover):")),p.a.createElement(D.a,{span:3},p.a.createElement($.a,{defaultValue:"",style:{width:120},onChange:function(e){d(e)}},p.a.createElement(oe,{value:""},"None"),n.map(function(e){return p.a.createElement(oe,{value:e.name},e.name)})))):p.a.createElement("br",null))}),le=n(65),ce=n(93),de=(n(176),n(548)),ue=n(542),pe=$.a.Option,me=$.a.OptGroup,fe=function(e){function t(){var e,n;Object(J.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Y.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={checked:n.props.checked,settings:n.props.settings},n}return Object(Q.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.index,a=t.attribute,r=t.toggleVisible,o=t.changeCheckStatus,i=t.changeTypeStatus,s=t.addComponentClass,l=t.deleteLastComponentClass,c=a.settings?"up":"setting";return console.log(a,c),p.a.createElement(S.a,{type:"flex",align:"middle",justify:"center",className:"attribute"},p.a.createElement(D.a,{span:2,offset:1},p.a.createElement(w.a,{shape:"circle",size:"small",onClick:function(){console.log("onClick"),e.setState({settings:!a.settings}),r(n,!a.settings),a.settings?l(n):s("hide",n)}},p.a.createElement(y.a,{type:c}))),p.a.createElement(D.a,{span:8,offset:1},a.name),p.a.createElement(D.a,{span:8},console.log(a.name,a.type),p.a.createElement($.a,{size:"small",style:{width:"100%"},dropdownMatchSelectWidth:!1,value:a.type,onChange:function(e){return i(a,e)}},p.a.createElement(me,{label:"unordered"},p.a.createElement(pe,{value:"CATEGORICAL"},"CATEGORICAL")),p.a.createElement(me,{label:"ordered"},p.a.createElement(pe,{value:"ORDINAL"},"ORDINAL"),p.a.createElement(pe,{value:"SEQUENTIAL"},"SEQUENTIAL"),p.a.createElement(pe,{value:"DATE"},"DATE")))),p.a.createElement(D.a,{span:4},p.a.createElement(Z.a,{placement:"right",title:"Here you can change this dimension visibility"},p.a.createElement(ue.a,{size:"small",defaultChecked:!0,checked:a.checked,style:{marginLeft:"2em"},onChange:function(t){console.log(t),e.setState({checked:t}),o(a,t)}}))))}}]),t}(u.Component),he=Object(g.b)(function(e,t){return{attribute:e.shipyard.attributes[t.index],index:t.index}},function(e){return{toggleVisible:function(t,n){e(B(t,n))},changeTypeStatus:function(t,n){e(G(t,n)),e({type:"UPDATE_ATTRIBUTE"})},changeCheckStatus:function(t,n){e(U(t,n)),e({type:"UPDATE_ATTRIBUTE"})},deleteLastComponentClass:function(t){return e(function(e){return{type:"DELETE_COMPONENT_CLASS",index:e}}(t))},addComponentClass:function(t,n){return e(function(e,t){return{type:"ADD_COMPONENT_CLASS",className:e,index:t}}(t,n))}}})(fe),ge=(n(237),$.a.Option),be=function(e){function t(){return Object(J.a)(this,t),Object(Y.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(Q.a)(t,e),Object(z.a)(t,[{key:"componentDidUpdate",value:function(){console.log("COLOR componentDidUpdate")}},{key:"componentWillUpdate",value:function(){console.log("COLOR componentWillUpdate")}},{key:"render",value:function(){var e=this.props,t=e.setColor,n=e.name;return"categorical"==this.props.type?ve():(console.log("this.props",this.props),ye(t,n))}}]),t}(u.Component),ve=function(){var e=q.scaleOrdinal(q.schemeCategory10),t=q.range(10);q.range(20);return p.a.createElement($.a,{size:"small",defaultValue:"scheme10",className:"color-selector"},p.a.createElement(ge,{value:"scheme10"},p.a.createElement("div",{className:"scheme10"},t.map(function(t,n){return p.a.createElement("div",{key:n+"10",style:{width:20,height:20,backgroundColor:e(t)}})}))))},Ee=(u.Component,["blue","green","gray","orange","purple","red"]),ye=function(e,t){return console.log(e),p.a.createElement("div",{className:"sequential-picker"},Ee.map(function(n){return p.a.createElement(w.a,{key:n,onClick:function(a){return e(n,t)},shape:"circle",style:{backgroundColor:n}})}))},ke=Object(g.b)(function(e,t){return{type:t.type,name:t.name}},function(e){return{setColor:function(t,n){e({type:"SET_ATTRIBUTE_COLOR",color:t,attributeName:n}),e({type:"UPDATE_ATTRIBUTE"})}}})(be),Te=(w.a.Group,function(e,t,n){console.log("onChangeInput"),console.log(e,t,n)}),Oe=Object(ce.SortableElement)(function(e){var t=e.attribute,n=e.number,a=e.componentClasses;e.setColor,e.toggleColorVisible;return p.a.createElement("div",{className:"sortableItem",style:{padding:"0.25em",backgroundColor:"white",marginBottom:"0em",cursor:"move",borderRadius:"2px"}},p.a.createElement(he,{attribute:t,index:n}),p.a.createElement("div",{className:a.join(" ")},p.a.createElement("div",{className:"settings"},p.a.createElement("hr",null),p.a.createElement("div",{className:"color"},p.a.createElement("div",null,p.a.createElement("div",null,"color")),p.a.createElement("div",null,p.a.createElement(ke,{type:t.type,name:t.name}))),p.a.createElement("hr",null),p.a.createElement("div",{className:"alias"},p.a.createElement("div",null,"alias"),p.a.createElement("div",null,p.a.createElement(de.a,{size:"small",addonAfter:[p.a.createElement(y.a,{key:t.name,style:{color:"blue"},type:"check"}),p.a.createElement(A.a,{key:t.name+"1",type:"vertical"}),p.a.createElement(y.a,{key:t.name+"2",style:{color:"red"},type:"delete"})],defaultValue:t.alias,onChange:Te,onPressEnter:Te}))))))}),Ae=Object(g.b)(function(e,t){return{attribute:e.shipyard.attributes[t.number],componentClasses:e.ui.componentClasses[t.number].classes,number:t.number}},function(e){return{setColor:function(t,n,a){return e(M(t,n,a))},toggleColorVisible:function(t){return e(function(e){return{type:"TOGGLE_COLOR_VISIBLE",index:e}}(t))},setAlias:function(t,n){return e(function(e,t){return{type:"SET_ALIAS",event:e,attribute:t}}(t,n))}}})(Oe),we=Object(ce.SortableContainer)(function(e){var t=e.items;return p.a.createElement("ul",{style:{marginTop:"2em",width:"90%"}},t.map(function(e,t){return p.a.createElement(Ae,{key:"item-".concat(t),index:t,number:t,attribute:e})}))}),Ce=Object(g.b)(function(e){return{items:e.shipyard.attributes}})(we),Se=(n(510),Object(g.b)(function(e){return{attributes:e.shipyard.attributes}},function(e){return{changeCheckStatus:function(t,n){e(U(t,n)),e({type:"UPDATE_ATTRIBUTE"})},changeTypeStatus:function(t,n){e(G(t,n)),e({type:"UPDATE_ATTRIBUTE"})},toggleVisible:function(t,n){e(B(t,n))},reorderAttributes:function(t,n,a){e({type:"SET_ATTRIBUTES",attributes:t}),e({type:"SWAP_COMPONENT_CLASSES",i:n,j:a}),e({type:"UPDATE_ATTRIBUTE"})},setColor:function(t,n,a){return e(M(t,n,a))}}})(function(e){var t=e.attributes,n=(e.toggleVisible,e.reorderAttributes);e.setColor;return p.a.createElement(Ce,{onSortEnd:function(e){var a=e.oldIndex,r=e.newIndex;if(a!==r){var o=Object(le.a)(t),i=Object(ce.arrayMove)(o,a,r);n(i,a,r)}}})})),De=(n(238),n(16)),Le=n(94),je=n.n(Le),xe="CATEGORICAL",Ne="SEQUENTIAL",_e="DATE",Ie=function(e){function t(){var e,n;Object(J.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Y.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).getScaleOrdinalScheme=function(e){switch(e){case"scheme10":default:return K.scaleOrdinal(De.schemeCategory10)}},n.getScaleOrdinalColor=function(e){switch(e){case"blue":return K.scaleOrdinal(De.schemeBlues);case"purple":return K.scaleOrdinal(De.schemePurples);case"red":return K.scaleOrdinal(De.schemeReds);case"green":return K.scaleOrdinal(De.schemeGreens);case"gray":return K.scaleOrdinal(De.schemeGreys);case"orange":return K.scaleOrdinal(De.schemeOranges);default:return console.log("default",e),K.scaleLinear(De.schemeOranges)}},n.getScaleTimeColor=function(e){switch(e){case"blue":return K.scaleTime(De.schemeBlues);case"purple":return K.scaleTime(De.schemePurples);case"red":return K.scaleTime(De.schemeReds);case"green":return K.scaleTime(De.schemeGreens);case"gray":return K.scaleTime(De.schemeGreys);case"orange":return K.scaleTime(De.schemeOranges);default:return console.log("default!!!!!!!!!!!!!!!!!"),K.scaleTime(De.schemeGreys)}},n.setupNavio=function(){n.nn=new je.a(K.select(n.target),600).updateCallback(n.props.updateFilteredData);for(var e=0;e<n.props.attributes.length;e++){var t=n.props.attributes[e];if(console.log(t),t.checked){var a=void 0;switch(t.type){case xe:a=n.getScaleOrdinalScheme(t.color),console.log(t.name,a),n.nn.addCategoricalAttrib(t.name);break;default:if(t.data===_e){console.log("is date",t.color),a=n.getScaleTimeColor(t.color),console.log(t.name,a),n.nn.addSequentialAttrib(t.name,K.scalePow().range([De.interpolatePurples(0),De.interpolatePurples(1)]));break}a=n.getScaleOrdinalColor(t.color),console.log(t.name,a),n.nn.addSequentialAttrib(t.name)}}}n.nn.data(n.props.data)},n.setupNavio2=function(){n.nn=new je.a(K.select(n.target),600).updateCallback(n.props.updateFilteredData);for(var e=0;e<n.props.attributes.length;e++){var t=n.props.attributes[e];t.checked&&(t.type===xe?n.nn.addCategoricalAttrib(t.name,K.scaleOrdinal(K.schemeCategory10)):t.type===Ne&&("date"===t.data?n.nn.addSequentialAttrib(t.name,K.scaleTime(De.schemeBlues)):(console.log(K),console.log(De),n.nn.addSequentialAttrib(t.name))))}n.nn.data(n.props.data)},n}return Object(Q.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){this.setupNavio()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.updated,n=e.updateAttribute;t&&(this.deleteWidget(),n(),this.setupNavio())}},{key:"deleteWidget",value:function(){for(var e=document.getElementById("vis");e.firstChild;)e.removeChild(e.firstChild)}},{key:"render",value:function(){var e=this,t=this.props.showSidebar,n=["sidebar"];return t||n.push("hide"),p.a.createElement("div",null,p.a.createElement(se,null),p.a.createElement(S.a,null,p.a.createElement(D.a,{span:10,className:n.join(" ")},p.a.createElement(Se,null)),p.a.createElement(D.a,{span:t?14:24},p.a.createElement("div",{style:{width:"100%",overflowX:"scroll",minHeight:"700px"},id:"vis",ref:function(t){return e.target=t}}))))}}]),t}(u.Component),Re=Object(g.b)(function(e){return{showSidebar:e.ui.showSidebar,attributes:e.shipyard.attributes,data:e.shipyard.data,updated:e.shipyard.updated}},function(e){return{updateAttribute:function(){return e({type:"UPDATE_ATTRIBUTE"})},updateFilteredData:function(t){return e(P(t))}}})(Ie),Ue=n(546),Ge="CATEGORICAL",Pe="SEQUENTIAL",Be="DATE",Me=function(e){function t(){var e,n;Object(J.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Y.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).getScaleOrdinalScheme=function(e){switch(e){case"scheme10":default:return K.scaleOrdinal(De.schemeCategory10)}},n.getScaleOrdinalColor=function(e){switch(e){case"blue":return K.scaleOrdinal(De.schemeBlues);case"purple":return K.scaleOrdinal(De.schemePurples);case"red":return K.scaleOrdinal(De.schemeReds);case"green":return K.scaleOrdinal(De.schemeGreens);case"gray":return K.scaleOrdinal(De.schemeGreys);case"orange":return K.scaleOrdinal(De.schemeOranges);default:return console.log("default",e),K.scaleLinear(De.schemeOranges)}},n.getScaleTimeColor=function(e){switch(e){case"blue":return K.scaleTime(De.schemeBlues);case"purple":return K.scaleTime(De.schemePurples);case"red":return K.scaleTime(De.schemeReds);case"green":return K.scaleTime(De.schemeGreens);case"gray":return K.scaleTime(De.schemeGreys);case"orange":return K.scaleTime(De.schemeOranges);default:return console.log("default!!!!!!!!!!!!!!!!!"),K.scaleTime(De.schemeGreys)}},n.setupNavio=function(){n.nn=new je.a(K.select(n.target),600).updateCallback(n.props.updateFilteredData);for(var e=0;e<n.props.attributes.length;e++){var t=n.props.attributes[e];if(console.log(t),t.checked){var a=void 0;switch(t.type){case Ge:a=n.getScaleOrdinalScheme(t.color),console.log(t.name,a),n.nn.addCategoricalAttrib(t.name);break;default:if(t.data===Be){console.log("is date",t.color),a=n.getScaleTimeColor(t.color),console.log(t.name,a),n.nn.addSequentialAttrib(t.name,K.scalePow().range([De.interpolatePurples(0),De.interpolatePurples(1)]));break}a=n.getScaleOrdinalColor(t.color),console.log(t.name,a),n.nn.addSequentialAttrib(t.name)}}}n.nn.data(n.props.data)},n.setupNavio2=function(){n.nn=new je.a(K.select(n.target),600).updateCallback(n.props.updateFilteredData);for(var e=0;e<n.props.attributes.length;e++){var t=n.props.attributes[e];t.checked&&(t.type===Ge?n.nn.addCategoricalAttrib(t.name,K.scaleOrdinal(K.schemeCategory10)):t.type===Pe&&("date"===t.data?n.nn.addSequentialAttrib(t.name,K.scaleTime(De.schemeBlues)):(console.log(K),console.log(De),n.nn.addSequentialAttrib(t.name))))}n.nn.data(n.props.data)},n}return Object(Q.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){this.setupNavio()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.updated,n=e.updateAttribute;t&&(this.deleteWidget(),n(),this.setupNavio())}},{key:"deleteWidget",value:function(){for(var e=document.getElementById("vis");e.firstChild;)e.removeChild(e.firstChild)}},{key:"render",value:function(){var e=this;return p.a.createElement("div",null,p.a.createElement(S.a,null,p.a.createElement(D.a,null,p.a.createElement("div",{style:{width:"100%",overflowX:"scroll",minHeight:"600px"},id:"vis",ref:function(t){return e.target=t}}))))}}]),t}(u.Component),qe=Object(g.b)(function(e){return{showSidebar:e.ui.showSidebar,attributes:e.shipyard.attributes,data:e.shipyard.exportData,updated:e.shipyard.updated}},function(e){return{updateAttribute:function(){return e({type:"UPDATE_ATTRIBUTE"})},updateFilteredData:function(t){return e(P(t))}}})(Me),We={links:[]},Fe=function(e){function t(e){var n;return Object(J.a)(this,t),(n=Object(Y.a)(this,Object(X.a)(t).call(this,e))).state={charge:-30,linkDistance:50,linkStrength:.5,centerStrength:.5},n}return Object(Q.a)(t,e),Object(z.a)(t,[{key:"dragstarted",value:function(){K.event.active||c.alphaTarget(.3).restart(),K.event.subject.fx=K.event.subject.x,K.event.subject.fy=K.event.subject.y}},{key:"dragged",value:function(){K.event.subject.fx=K.event.x,K.event.subject.fy=K.event.y}},{key:"dragended",value:function(){K.event.active||c.alphaTarget(0),K.event.subject.fx=null,K.event.subject.fy=null}},{key:"drawNode",value:function(e){o.beginPath(),o.fillStyle="#000000",""!==this.props.colorAttribute&&(o.fillStyle=d(e[this.props.colorAttribute])),o.moveTo(e.x,e.y),this.props.nodesLabel&&a===e?(o.arc(e.x,e.y,1.2*i,0,2*Math.PI),o.fillStyle="#000000",o.fillText(a[this.props.nodesLabel],a.x+i,a.y+i)):o.arc(e.x,e.y,i,0,2*Math.PI),o.fill()}},{key:"drawLink",value:function(e){o.moveTo(e.source.x,e.source.y),o.lineTo(e.target.x,e.target.y)}},{key:"dragsubject",value:function(){return c.find(K.event.x,K.event.y)}},{key:"updateCanvas",value:function(){o.clearRect(0,0,s,l),o.beginPath(),o.strokeStyle="#aaa",We.links.forEach(this.drawLink),o.stroke(),o.globalAlpha=1,this.props.data.forEach(this.drawNode.bind(this))}},{key:"generateLinks",value:function(e,t){for(var n in this.props.data)for(var a in this.props.data){var r=this.props.data[n],o=this.props.data[a];r[t]===o[t]&&n!=a&&We.links.push({source:r[e],target:o[e]})}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.nodesid;We.links=this.props.arcsData,We.nodes=this.props.data,r=K.select("#network"),s=r.attr("width"),l=r.attr("height"),o=r.node().getContext("2d"),i=5,d=K.scaleOrdinal(K.schemeCategory20),K.scaleOrdinal().range([200,s-200]),K.scaleOrdinal().range([100,l-200]),(c=K.forceSimulation().force("x",K.forceX(s/2)).force("y",K.forceY(l/2)).force("collide",K.forceCollide(i+1)).force("charge",K.forceManyBody().strength(this.state.charge)).on("tick",this.updateCanvas.bind(this)).force("link",K.forceLink().id(function(e){return e[t]}))).nodes(We.nodes),c.force("link").links(We.links),r.call(K.drag().container(r.node()).subject(this.dragsubject).on("start",this.dragstarted).on("drag",this.dragged).on("end",this.dragended)),r.on("mousemove",function(){var t=K.event.offsetX,n=K.event.offsetY;a=c.find(t,n,3*i),e.updateCanvas()})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.nodesid;We.nodes=this.props.data,c.nodes(We.nodes),We.links=[],this.props.arcsData.forEach(function(n){console.log(typeof n.source),(("number"===typeof n.source||"string"===typeof n.source)&&e.props.data.find(function(e){return e[t]==n.source})&&e.props.data.find(function(e){return e[t]==n.target})||"object"===typeof n.source&&e.props.data.find(function(e){return e[t]==n.source[t]})&&e.props.data.find(function(e){return e[t]==n.target[t]}))&&We.links.push(n)}),c.force("x",K.forceX(s/2).strength(this.state.centerStrength)).force("y",K.forceY(l/2).strength(this.state.centerStrength)),c.force("link",K.forceLink().id(function(e){return e[t]})),c.force("link").links(We.links).strength(this.state.linkStrength).distance(this.state.linkDistance),c.force("charge",K.forceManyBody().strength(this.state.charge)),c.alpha(1).restart(),this.updateCanvas()}},{key:"changeCharge",value:function(e){this.setState({charge:e})}},{key:"changeLinkStrength",value:function(e){this.setState({linkStrength:e/100})}},{key:"changeLinkDistance",value:function(e){this.setState({linkDistance:e})}},{key:"changeCenterStrength",value:function(e){this.setState({centerStrength:e/100})}},{key:"render",value:function(){var e=this.props,t=e.showSidebar,n=e.arcsData,a=(e.networkLoaded,["sidebar"]);return t||a.push("hide"),p.a.createElement("div",null,p.a.createElement(se,null),p.a.createElement(S.a,null,p.a.createElement(D.a,{span:10,className:a.join(" ")},p.a.createElement(Se,null)),p.a.createElement(D.a,{span:12},p.a.createElement(qe,null)),p.a.createElement(D.a,{span:t?8:12},p.a.createElement("canvas",{style:{overflowX:"scroll"},width:"500",height:"500",id:"network"}))),p.a.createElement(S.a,null,p.a.createElement(D.a,{span:12}),p.a.createElement(D.a,{span:2},"Charge:"),p.a.createElement(D.a,{span:10},p.a.createElement(Ue.a,{defaultValue:this.state.charge,min:-100,max:100,disabled:!1,onChange:this.changeCharge.bind(this)}))),0!==n.length?p.a.createElement("div",null,p.a.createElement(S.a,null,p.a.createElement(D.a,{span:12}),p.a.createElement(D.a,{span:2},"Link distance:"),p.a.createElement(D.a,{span:10},p.a.createElement(Ue.a,{defaultValue:this.state.linkDistance,disabled:!1,onChange:this.changeLinkDistance.bind(this)}))),p.a.createElement(S.a,null,p.a.createElement(D.a,{span:12}),p.a.createElement(D.a,{span:2},"Link strength:"),p.a.createElement(D.a,{span:10},p.a.createElement(Ue.a,{defaultValue:100*this.state.linkStrength,min:0,max:100,disabled:!1,onChange:this.changeLinkStrength.bind(this)})))):p.a.createElement("br",null),p.a.createElement(S.a,null,p.a.createElement(D.a,{span:12}),p.a.createElement(D.a,{span:2},"Center strength:"),p.a.createElement(D.a,{span:10},p.a.createElement(Ue.a,{defaultValue:100*this.state.centerStrength,min:0,max:100,disabled:!1,onChange:this.changeCenterStrength.bind(this)}))))}}]),t}(u.Component),He=Object(g.b)(function(e){return{showSidebar:e.ui.showSidebar,attributes:e.shipyard.attributes,data:e.shipyard.exportData,updated:e.shipyard.updated,arcsData:e.shipyard.arcsData,colorAttribute:e.shipyard.colorAttribute,nodesLabel:e.shipyard.nodesLabel,nodesid:e.shipyard.nodesid,networkLoaded:e.ui.networkLoaded}},function(e){return{updateAttribute:function(){return e({type:"UPDATE_ATTRIBUTE"})},updateFilteredData:function(t){return e(P(t))}}})(Fe),Ve=n(543),Je=Object(g.b)(function(e){return{exportData:e.shipyard.exportData,attributes:e.shipyard.attributes}})(function(e){var t=e.exportData,n=e.attributes,a=t.slice(0);console.log(a);var r=[];return n.forEach(function(e){if("DATE"!==e.data){var t={};t.title=e.name,t.dataIndex=e.name,t.key=e.name,t.width=150,r.push(t)}}),a.forEach(function(e){e.key=e.__seqId}),p.a.createElement(S.a,null,p.a.createElement(Ve.a,{bordered:!0,pagination:!0,dataSource:a,columns:r,scroll:{x:150*r.length,y:"70vh"}}))}),ze=Object(g.b)(function(e){return{dataLoaded:e.ui.dataLoaded,showSidebar:e.ui.showSidebar,networkLoaded:e.ui.networkLoaded}})(function(e){var t,n=e.dataLoaded,a=(e.showSidebar,e.networkLoaded);return t=n?p.a.createElement("div",null,p.a.createElement(Re,null),p.a.createElement(Je,null)," "):a?p.a.createElement(He,null):p.a.createElement(V,null),p.a.createElement("div",{style:{height:"100%"}},t)}),Ye=v.a.Header,Xe=v.a.Content,Qe=v.a.Footer,Ke={marginBottom:"1em",padding:0,backgroundColor:"white",boxShadow:"0 5px 4px rgba(0,0,0,0.15), 0 4px 4px rgba(0,0,0,0.12)"},$e={minHeight:"100vh"},Ze=Object(g.b)(function(e){return{loading:e.ui.loading}})(function(e){return p.a.createElement("div",{style:$e},p.a.createElement(v.a,{style:{height:"100vh"}},p.a.createElement(E.a,null,p.a.createElement(Ye,{style:Ke},p.a.createElement(k,null))),p.a.createElement(Xe,null,e?p.a.createElement(ze,null):"loading"),p.a.createElement(Qe,null,p.a.createElement(T,null))))}),et={data:[],arcsData:[],nodesid:"",attributes:[],linksAttributes:[],colorAttribute:"",nodesLabel:"",exportData:[],exportLinksData:[],source:[],linksSource:[],updated:!1,datasets:[{id:1,title:"Followers of presidential candidates Colombia 2018",description:"Dataset with information about followers on twitter of the presidential cadidates.",name:"all_followers_id.csv",size:1048575,n_attributes:10},{id:2,title:"MoMA Collection",description:"Evolving collection contains almost 130,000 works of modern and contemporary art.",name:"Artworks_less_columns.csv",size:131585,n_attributes:14},{id:3,title:"VAST Challenge 2017",description:"The VAST Challenge 2017 offered three mini-challenges and a grand challenge dealing with environmental problems potentially caused by human patterns of life and potentially harmful chemically laden effluent plumes being emitted from factory smokestacks. The data provided included traffic patterns, sensor data though the Boonsong Lekagul Nature Preserve.",name:"Lekagul Sensor Data.csv",size:171477,n_attributes:4}]},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":return Object.assign({},e,{source:t.source,data:t.data,attributes:t.attributes,exportData:t.data});case"SET_ARCS_DATA":return Object.assign({},e,{linksSource:t.source,arcsData:t.arcsData,linksAttributes:t.attributes,exportLinksData:t.arcsData});case"SET_NODES_ID":return Object.assign({},e,{nodesid:t.id});case"RESET_DATA":return et;case"CHANGE_CHECK_STATUS":var n=e.attributes.slice(0),a=n.map(function(e){return e.name}).indexOf(t.attribute.name);return n[a].checked=t.status,Object.assign({},e,{attributes:n});case"CHANGE_TYPE_STATUS":var r=e.attributes,o=r.map(function(e){return e.name}).indexOf(t.attribute.name);r[o].type=t.status,Object(le.a)(e.source);var i=e.source.slice();switch(console.log("source",i),console.log("action.status",t.status),t.status){case"date":i.forEach(function(e){e[t.attribute.name]=new Date(e[t.attribute.name])});break;case"sequential":i.forEach(function(e){e[t.attribute.name]=+e[t.attribute.name]});break;default:console.log("default case"),i.forEach(function(e){e[t.attribute.name]=e[t.attribute.name]})}var s=e.data.slice();return s.forEach(function(e,n){e[t.attribute.name]=i[n][t.attribute.name]}),Object.assign({},e,{attributes:r,data:s});case"UPDATE_ATTRIBUTE":return Object.assign({},e,{updated:!e.updated});case"UPDATE_FILTERED_DATA":return Object.assign({},e,{exportData:t.exportData});case"TOGGLE_SETTINGS_VISIBLE":var l=e.attributes.slice(0);return l[t.index].settings=t.visible,console.log(l),Object.assign({},e,{attributes:l});case"SET_ATTRIBUTES":return Object.assign({},e,{attributes:t.attributes});case"SET_COLOR_ATTRIBUTE":return Object.assign({},e,{colorAttribute:t.attribute});case"SET_NODES_LABEL":return Object.assign({},e,{nodesLabel:t.attribute});case"SET_ATTRIBUTE_COLOR":var c=Object(le.a)(e.attributes);return c.forEach(function(e){e.name==t.attributeName&&(e.color=t.color)}),Object.assign({},e,{attributes:c});case"SET_ALIAS":return console.log("SET_ALIAS:\n",t),e;case"TOGGLE_COLOR_VISIBLE":default:return e}},nt={confirmLoading:!1,closed:!0,loading:!1,visible:!1,dataLoaded:!1,networkLoaded:!1,showSidebar:!1,componentClasses:["box"]},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return Object.assign({},e,{visible:!e.visible});case"TOGGLE_LOADING":return Object.assign({},e,{loading:!e.loading});case"TOGGLE_DATA_LOADED":return Object.assign({},e,{dataLoaded:!e.dataLoaded});case"TOGGLE_NETWORK_DATA_LOADED":return console.log("llegaaaa"),Object.assign({},e,{networkLoaded:!e.networkLoaded});case"RESET_DATA":return nt;case"TOGGLE_SIDEBAR":return Object.assign({},e,{showSidebar:!e.showSidebar});case"DELETE_COMPONENT_CLASS":var n=e.componentClasses.splice(0);return n[t.index].classes=["box"],Object.assign({},e,{componentClasses:n});case"ADD_COMPONENT_CLASS":console.log(t);var a=["box",t.className],r=e.componentClasses.splice(0);return r[t.index].classes=a,Object.assign({},e,{componentClasses:r});case"SWAP_COMPONENT_CLASSES":var o,i=e.componentClasses.splice(0);return o=i[t.i],i[t.i]=i[t.j],i[t.j]=o,Object.assign({},e,{componentClasses:i});case"SET_COMPONENT_CLASSES":var s=[];return console.log(t),console.log(e.componentClasses),t.attributes.forEach(function(e,t){var n={classes:["box","hide"]};n.index=t,s.push(n)}),Object.assign({},e,{componentClasses:s});default:return e}},rt=Object(h.c)({shipyard:tt,ui:at}),ot=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function it(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(534);var st=Object(b.createLogger)(),lt=Object(h.d)(rt,Object(h.a)(m.a,st));Object(f.render)(p.a.createElement(g.a,{store:lt},p.a.createElement(Ze,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");ot?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):it(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):it(e)})}}()}},[[259,2,1]]]);
//# sourceMappingURL=main.58ace682.chunk.js.map